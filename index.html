<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.png?v=5.1.0" />






<meta name="description" content="AsiaWang的个人博客">
<meta property="og:type" content="website">
<meta property="og:title" content="Asia&#39;s blog">
<meta property="og:url" content="http://www.asiawang.me/index.html">
<meta property="og:site_name" content="Asia&#39;s blog">
<meta property="og:description" content="AsiaWang的个人博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Asia&#39;s blog">
<meta name="twitter:description" content="AsiaWang的个人博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://www.asiawang.me/"/>





  <title> Asia's blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Asia's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">如果你停止了，就在谷底，如果还在继续，就是上坡</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://www.asiawang.me/2017/06/12/正则表达式总结/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Asia Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Asia's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/06/12/正则表达式总结/" itemprop="url">
                  正则表达式总结
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-12T21:55:54+08:00">
                2017-06-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/笔记/" itemprop="url" rel="index">
                    <span itemprop="name">笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/06/12/正则表达式总结/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/06/12/正则表达式总结/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>最近看了一位讲正则表达式的视频，讲的挺好的在此做一下总结</p>
</blockquote>
<h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><p>工欲善其事必先利其器，首先说一下正则表达式一个很好的在线编辑校验工具</p>
<p><a href="http://regex101.com/" target="_blank" rel="external">http://regex101.com/</a></p>
<p>这个真是我见过最好的工具了，没有之一。</p>
<h2 id="常用字符符号"><a href="#常用字符符号" class="headerlink" title="常用字符符号"></a>常用字符符号</h2><table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
<th>范例</th>
</tr>
</thead>
<tbody>
<tr>
<td>.</td>
<td>任意字符</td>
<td>“A”, “ “(空格), “囧”, “1”</td>
</tr>
<tr>
<td>\d</td>
<td>任意数字</td>
<td>“1”, “2”, “3”</td>
</tr>
<tr>
<td>\D</td>
<td>任意非数字字符</td>
<td>“a”, “b”, “c”</td>
</tr>
<tr>
<td>\w</td>
<td>任意字母字符</td>
<td>“a”, “B”, “_”, “9”</td>
</tr>
<tr>
<td>\W</td>
<td>任意非字母字符</td>
<td>“ “(空格)</td>
</tr>
<tr>
<td>\s</td>
<td>任意空白字符</td>
<td>“ “(空格), “\r”, “\t”, “\n”</td>
</tr>
<tr>
<td>\S</td>
<td>任意非空白字符</td>
<td>“a”, “B”, “_”</td>
</tr>
</tbody>
</table>
<h2 id="常用字符类符号"><a href="#常用字符类符号" class="headerlink" title="常用字符类符号"></a>常用字符类符号</h2><table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
<th>范例</th>
</tr>
</thead>
<tbody>
<tr>
<td>\r</td>
<td>回车符</td>
<td></td>
</tr>
<tr>
<td>\n</td>
<td>换行符</td>
<td></td>
</tr>
<tr>
<td>\t</td>
<td>制表符</td>
<td></td>
</tr>
<tr>
<td>\</td>
<td>匹配”\”</td>
<td></td>
</tr>
<tr>
<td>\xhh</td>
<td>以ASCII码进 匹配</td>
<td>\x41可以匹配”A”</td>
</tr>
<tr>
<td>\uhhhh</td>
<td>以UNICODE码进 匹配</td>
<td>\u4e00-\u9fa5 中 的范围</td>
</tr>
</tbody>
</table>
<h2 id="字符集合"><a href="#字符集合" class="headerlink" title="字符集合"></a>字符集合</h2><table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>[x-z]</td>
<td>匹配 x, y, z</td>
</tr>
<tr>
<td>[abc]</td>
<td>匹配 a, b, c</td>
</tr>
<tr>
<td>[^xyz]</td>
<td>匹配 非(x, y, z)</td>
</tr>
<tr>
<td>[^a-c]</td>
<td>匹配 非(a, b, c)</td>
</tr>
<tr>
<td>[-]</td>
<td>匹配 -</td>
</tr>
</tbody>
</table>
<h2 id="字符边界"><a href="#字符边界" class="headerlink" title="字符边界"></a>字符边界</h2><table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>^</td>
<td>匹配行首</td>
</tr>
<tr>
<td>$</td>
<td>匹配行尾</td>
</tr>
<tr>
<td>\b</td>
<td>匹配单词的边界</td>
</tr>
<tr>
<td>\B</td>
<td>匹配非单词的边界</td>
</tr>
</tbody>
</table>
<p>例子：</p>
<p><code>o\b</code> 匹配：</p>
<p>hell<code>o</code> world 只匹配hello的o</p>
<p><code>o\B</code> 匹配：</p>
<p>hello w<code>o</code>rld 只匹配world的o</p>
<h2 id="数量限定符"><a href="#数量限定符" class="headerlink" title="数量限定符"></a>数量限定符</h2><table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
<th>等效</th>
</tr>
</thead>
<tbody>
<tr>
<td>x{n}</td>
<td>匹配字符x n次</td>
<td></td>
</tr>
<tr>
<td>x{n,}</td>
<td>匹配字符x 至少n次</td>
<td></td>
</tr>
<tr>
<td>x{n, m}</td>
<td>匹配字符x 至少n次至多m次</td>
<td></td>
</tr>
<tr>
<td>x*</td>
<td>匹配字符x任意次</td>
<td>x{0,} </td>
</tr>
<tr>
<td>x+</td>
<td>匹配字符x 至少1次</td>
<td>x{1,} </td>
</tr>
<tr>
<td>x?</td>
<td>匹配字符x 0次或者1次</td>
<td>x{0, 1}</td>
</tr>
</tbody>
</table>
<p>数量限定符都是在满足条件下尽可能的匹配多的字符 - 贪婪模式</p>
<p>如果希望在满足条件下尽可能少的匹配字符, 在数量限定符后 加上“?”, 也就是非贪婪模式</p>
<h2 id="分支条件"><a href="#分支条件" class="headerlink" title="分支条件"></a>分支条件</h2><p><code>a|b</code></p>
<p>可以匹配a或者b</p>
<h2 id="分组与后向引用"><a href="#分组与后向引用" class="headerlink" title="分组与后向引用"></a>分组与后向引用</h2><table>
<thead>
<tr>
<th>符号</th>
<th>含义 </th>
</tr>
</thead>
<tbody>
<tr>
<td>(x)</td>
<td>匹配x 并分配一个组</td>
</tr>
<tr>
<td>\1…\n</td>
<td>引用1-n组匹配</td>
</tr>
<tr>
<td>(?:x)</td>
<td>匹配x 并分配一个组 但是不创建引用</td>
</tr>
</tbody>
</table>
<p>例子：</p>
<p><code>(green|red)\1</code> 匹配<code>greengreen</code> 和 <code>redred</code>，不匹配<code>greenred</code> 和 <code>redgreen</code></p>
<p> 因为<code>\1</code> 引用前一个匹配结果</p>
<p><code>(?:green|red)\1</code> 会报解析器错误，因为第一个分组未创建引用</p>
<h2 id="断言"><a href="#断言" class="headerlink" title="断言"></a>断言</h2><table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>x(?=y)</td>
<td>匹配跟随着y的x</td>
</tr>
<tr>
<td>x(?!y)</td>
<td>匹配不跟随y的x</td>
</tr>
</tbody>
</table>
<h2 id="模式"><a href="#模式" class="headerlink" title="模式"></a>模式</h2><table>
<thead>
<tr>
<th>模式</th>
<th>含义</th>
<th>PCRE修饰符</th>
</tr>
</thead>
<tbody>
<tr>
<td>SingleLine</td>
<td>单行模式 . 会匹配 \n</td>
<td>/x/s</td>
</tr>
<tr>
<td>MultiLine</td>
<td>多行模式 . 不会匹配 \n</td>
<td>/x/m</td>
</tr>
<tr>
<td>IgnoreCase</td>
<td>忽略大小写</td>
<td>/x/i</td>
</tr>
<tr>
<td>Global</td>
<td>全局模式 对整个字符串匹配</td>
<td>/x/g</td>
</tr>
</tbody>
</table>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://www.asiawang.me/2017/05/06/mac-如何更优雅的安装nodejs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Asia Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Asia's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/06/mac-如何更优雅的安装nodejs/" itemprop="url">
                  mac 如何更优雅的安装nodejs
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-06T21:22:05+08:00">
                2017-05-06
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/05/06/mac-如何更优雅的安装nodejs/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/05/06/mac-如何更优雅的安装nodejs/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>刚开始玩node时候就是官网上直接下载node的安装包，后来发现玩的东西多后，node版本切换是个大问题。<br> 用了<code>n</code>觉得并不好用，后来才知道mac有<code>nvm</code>，简直方便的一米啊。</p>
</blockquote>
<h2 id="卸载已安装的node（如果你还没安装过，可以直接跳过）"><a href="#卸载已安装的node（如果你还没安装过，可以直接跳过）" class="headerlink" title="卸载已安装的node（如果你还没安装过，可以直接跳过）"></a>卸载已安装的node（如果你还没安装过，可以直接跳过）</h2><p>node 命令在 <code>/usr/local/bin/node</code> ，npm 命令在全局 node_modules 目录中，具体路径为 <code>/usr/local/lib/node_modules/npm</code></p>
<p>删除node：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#查看已经安装在全局的模块，以便删除这些全局模块后再按照不同的 node 版本重新进行全局安装</span></div><div class="line">npm ls -g --depth=0 </div><div class="line"></div><div class="line"><span class="comment">#删除全局 node_modules 目录</span></div><div class="line">sudo rm -rf /usr/<span class="built_in">local</span>/lib/node_modules </div><div class="line">sudo rm /usr/<span class="built_in">local</span>/bin/node <span class="comment">#删除 node</span></div><div class="line"></div><div class="line"><span class="comment">#删除全局 node 模块注册的软链</span></div><div class="line"><span class="built_in">cd</span>  /usr/<span class="built_in">local</span>/bin &amp;&amp; ls -l | grep <span class="string">"../lib/node_modules/"</span> | awk <span class="string">'&#123;print $9&#125;'</span>| xargs rm</div></pre></td></tr></table></figure></p>
<h2 id="安装nvm"><a href="#安装nvm" class="headerlink" title="安装nvm"></a>安装<code>nvm</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.29.0/install.sh | bash</div></pre></td></tr></table></figure>
<h2 id="nvm使用方法"><a href="#nvm使用方法" class="headerlink" title="nvm使用方法"></a><code>nvm</code>使用方法</h2><h3 id="安装切换各版本-node"><a href="#安装切换各版本-node" class="headerlink" title="安装切换各版本 node"></a>安装切换各版本 node</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">nvm install stable <span class="comment">#安装最新稳定版 node，现在是 5.0.0</span></div><div class="line">nvm install 4.2.2 <span class="comment">#安装 4.2.2 版本</span></div><div class="line">nvm install 0.12.7 <span class="comment">#安装 0.12.7 版本</span></div><div class="line"></div><div class="line"><span class="comment"># 特别说明：以下模块安装仅供演示说明，并非必须安装模块</span></div><div class="line">nvm use 0 <span class="comment">#切换至 0.12.7 版本</span></div><div class="line"></div><div class="line"><span class="comment">#安装 mz-fis 模块至全局目录，安装完成的路径是 /Users/&lt;你的用户名&gt;/.nvm/versions/node/v0.12.7/lib/mz-fis</span></div><div class="line">npm install -g mz-fis </div><div class="line"></div><div class="line">nvm use 4 <span class="comment">#切换至 4.2.2 版本</span></div><div class="line"></div><div class="line"><span class="comment">#安装 react-native-cli 模块至全局目录，安装完成的路径是 /Users/&lt;你的用户名&gt;/.nvm/versions/node/v4.2.2/lib/react-native-cli</span></div><div class="line">npm install -g react-native-cli </div><div class="line"></div><div class="line">nvm <span class="built_in">alias</span> default 0.12.7 <span class="comment">#设置默认 node 版本为 0.12.7</span></div></pre></td></tr></table></figure>
<h3 id="使用-nvmrc-文件配置项目所使用的-node-版本"><a href="#使用-nvmrc-文件配置项目所使用的-node-版本" class="headerlink" title="使用 .nvmrc 文件配置项目所使用的 node 版本"></a>使用 .nvmrc 文件配置项目所使用的 node 版本</h3><p>如果你的默认 node 版本（通过 nvm alias 命令设置的）与项目所需的版本不同，则可在项目根目录或其任意父级目录中创建 .nvmrc 文件，在文件中指定使用的 node 版本号，例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> &lt;项目根目录&gt;  <span class="comment">#进入项目根目录</span></div><div class="line"><span class="built_in">echo</span> 4 &gt; .nvmrc <span class="comment">#添加 .nvmrc 文件</span></div><div class="line">nvm use <span class="comment">#无需指定版本号，会自动使用 .nvmrc 文件中配置的版本</span></div><div class="line">node -v <span class="comment">#查看 node 是否切换为对应版本</span></div></pre></td></tr></table></figure>
<h2 id="安装nrm"><a href="#安装nrm" class="headerlink" title="安装nrm"></a>安装<code>nrm</code></h2><p><code>nrm</code> 是一个管理 npm 源的工具。用过 ruby 和 gem 的同学会比较熟悉，<br>通常我们会把 gem 源切到国内的淘宝镜像，这样在安装和更新一些包的时候比较快。<br><code>nrm</code> 同理，用来切换官方 npm 源和国内的 npm 源（如: cnpm），当然也可以用来切换官方 npm 源和公司私有 npm 源。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install -g nrm</div></pre></td></tr></table></figure>
<h2 id="nrm使用方法"><a href="#nrm使用方法" class="headerlink" title="nrm使用方法"></a><code>nrm</code>使用方法</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">nrm ls <span class="comment">#列出可选的源</span></div><div class="line"></div><div class="line">* npm ---- https://registry.npmjs.org/</div><div class="line">  cnpm --- http://r.cnpmjs.org/</div><div class="line">  taobao - http://registry.npm.taobao.org/</div><div class="line">  eu ----- http://registry.npmjs.eu/</div><div class="line">  au ----- http://registry.npmjs.org.au/</div><div class="line">  sl ----- http://npm.strongloop.com/</div><div class="line">  nj ----- https://registry.nodejitsu.com/</div><div class="line"></div><div class="line">nrm use taobao <span class="comment">#切换到淘宝</span></div><div class="line"></div><div class="line">nrm add  &lt;registry&gt; &lt;url&gt; [home] <span class="comment">#增加源</span></div><div class="line"></div><div class="line">nrm del &lt;registry&gt; <span class="comment">#删除源</span></div><div class="line"></div><div class="line">nrm <span class="built_in">test</span> <span class="comment">#测试速度 </span></div><div class="line"></div><div class="line">  npm ---- 891ms</div><div class="line">  cnpm --- 1213ms</div><div class="line">* taobao - 460ms</div><div class="line">  eu ----- 3859ms</div><div class="line">  au ----- 1073ms</div><div class="line">  sl ----- 4150ms</div><div class="line">  nj ----- 8008ms</div></pre></td></tr></table></figure>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>安装 <code>nvm</code> 和 <code>nrm</code> 更加方便了我们做不同node版本的开发，如果你之前不是这样玩的就赶快卸载，重新安装一下吧。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://www.asiawang.me/2017/04/30/javascript-this-问题说明/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Asia Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Asia's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/30/javascript-this-问题说明/" itemprop="url">
                  javascript this 问题说明
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-30T22:10:33+08:00">
                2017-04-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/笔记/" itemprop="url" rel="index">
                    <span itemprop="name">笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/04/30/javascript-this-问题说明/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/04/30/javascript-this-问题说明/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>最近有好多同事还在问我关于<code>this</code>的问题，那我就从函数调用模式的角度来说明一下<code>this</code></p>
</blockquote>
<h2 id="首先this是什么"><a href="#首先this是什么" class="headerlink" title="首先this是什么"></a>首先this是什么</h2><p>javascript中调用一个函数，这个函数除了声明时定义的形式参数外，每个函数还接收两个附加的参数：<code>this</code> 和 <code>arguments</code>。<br>参数 <code>this</code>在面向对象编程中非常重要，它的值取决与调用模式。</p>
<h2 id="调用模式"><a href="#调用模式" class="headerlink" title="调用模式"></a>调用模式</h2><p>javascript中的调用模式，一共有4种：</p>
<ul>
<li>方法调用模式</li>
<li>函数调用模式</li>
<li>构造器调用模式</li>
<li>apply / call 调用模式</li>
</ul>
<h3 id="方法调用模式"><a href="#方法调用模式" class="headerlink" title="方法调用模式"></a>方法调用模式</h3><p>当一个函数被保存为对象的一个属性时，我们称它为一个方法。当一个方法被调用的时候<br>（即包含一个 . 点表达式或[subscript]下标表达式），<code>this</code>被绑定到该对象。</p>
<script async src="//jsfiddle.net/asiareal/vq37nyxu/4/embed/js,html,result/"></script>

<h3 id="函数调用模式"><a href="#函数调用模式" class="headerlink" title="函数调用模式"></a>函数调用模式</h3><p>当一个函数并非一个对象属性时，那么它就是被当作一个函数来调用的。<br>以此模式调用函数时，<code>this</code>被绑定到了全局对象。这是语言设计上的一个错误。倘若语言设计的正确，<br>那么当内部函数被调用时，<code>this</code>应该仍然绑定到外部函数的<code>this</code>变量。下面例子来演示这个错误。</p>
<blockquote>
<p>例子</p>
</blockquote>
<script async src="//jsfiddle.net/asiareal/bsjdf9ut/embed/js,html,result/"></script>

<p>针对这个有种很好解决的方案，定义一个变量并给它赋值<code>this</code>，那么内部函数就可以通过那个变量访问到<code>this</code>。<br>按照约定，命名为<code>that</code>。</p>
<blockquote>
<p>例子</p>
</blockquote>
<script async src="//jsfiddle.net/asiareal/cjjrxcwj/embed/js,html,result/"></script>

<h3 id="构造器调用模式"><a href="#构造器调用模式" class="headerlink" title="构造器调用模式"></a>构造器调用模式</h3><p>javascript 是一门基于原型继承的语言。如果一个函数前面带上<code>new</code>来调用，那么背地里会创建一个连接到该函数的<code>prototype</code><br>成员的新对象，同时<code>this</code>会被绑定到那个新对象上。</p>
<script async src="//jsfiddle.net/asiareal/v7fw8ax2/embed/js,html,result/"></script>

<h3 id="apply-／-call-调用模式"><a href="#apply-／-call-调用模式" class="headerlink" title="apply ／ call 调用模式"></a>apply ／ call 调用模式</h3><p>因为Javascript 是一门函数式的面向对象编程语言，所以函数是可以拥有方法的。</p>
<p>函数的<code>apply</code>方法允许我们选择<code>this</code>的值。<code>apply</code>方法接收两个参数，第一个是要绑定给<code>this</code>的值，第二个是参数数数组。</p>
<script async src="//jsfiddle.net/asiareal/5y3p35e8/2/embed/js,html,result/"></script>

<p>关于<code>apply</code>和 <code>call</code> 的区别，我暂时的理解就是参数的不同，<code>apply</code>方法接收两个参数，第一个是要绑定给<code>this</code>的值，第二个是参数数数组。<br>而<code>call</code>可以接收N个参数，第一个是要绑定给<code>this</code>的值，后面的参数是函数要接收传参。如果大家有不同见解，欢迎留言补充。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol>
<li>方法调用模式，构造器调用模式<code>this</code> 始终指向它的调用者</li>
<li>函数调用模式<code>this</code>始终绑定到了全局对象上面，可以通过<code>that</code>来解决这个问题</li>
<li>apply 和 call 可以通过参数的方式指定<code>this</code> </li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://www.asiawang.me/2017/04/17/inline-block-间距问题解决/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Asia Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Asia's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/17/inline-block-间距问题解决/" itemprop="url">
                  inline-block 间距问题解决
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-17T21:10:08+08:00">
                2017-04-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/笔记/" itemprop="url" rel="index">
                    <span itemprop="name">笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/04/17/inline-block-间距问题解决/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/04/17/inline-block-间距问题解决/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><code>inline-block</code> 为CSS2.1 新增的值，表示行内块元素。从<a href="http://caniuse.com/" target="_blank" rel="external">caniuse</a>上看<br>市面上主流浏览器都已支持，（IE为IE8及以上都已完全支持，如果要兼容IE6，IE7有hack解决方法）。</p>
<p>行内块元素可以很方便的使块元素水平排列显示，并且配合<code>text-align</code>属性，很方便完成向左，居中，向右对齐。<br>很多地方可以完全替代<code>float</code>属性。</p>
<p>但是，使用过程中会发现inline-block的元素之间会存在“4px”的空白间距问题，今天就总结一下它的几种解决方法。</p>
</blockquote>
<h2 id="问题展示"><a href="#问题展示" class="headerlink" title="问题展示"></a>问题展示</h2><script async src="//jsfiddle.net/asiareal/pqnbLdca/embed/result,html,css/"></script>

<p>由上可以看到几个<code>inline-block</code>元素间，存在着空白间距。</p>
<p>那么出现这种原因是为什么呢？本质inline元素中间的空白符引起的，解决办法：首先想到的就是去掉空白符</p>
<h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><h3 id="方法1-改变HTML结构"><a href="#方法1-改变HTML结构" class="headerlink" title="方法1 改变HTML结构"></a>方法1 改变HTML结构</h3><script async src="//jsfiddle.net/asiareal/um5uf9bq/3/embed/html,result,css/"></script>

<p>这种方法适用于自己写静态页面时候使用，一旦html为后台生成这就完了，自己控制不了，但这个时候可以利用jQuery来解决</p>
<script async src="//jsfiddle.net/asiareal/rdbvh7wa/1/embed/js,result,html,css/"></script>

<h3 id="方法2-纯css解决方法"><a href="#方法2-纯css解决方法" class="headerlink" title="方法2 纯css解决方法"></a>方法2 纯css解决方法</h3><p><script async src="//jsfiddle.net/asiareal/1s98y5so/embed/css,result,html/"></script><br>在父元素中设置font-size:0,用来兼容chrome，而使用letter-space:-N px来兼容safari。</p>
<p>缺点就是 <code>letter-spacing</code> 需要根据字号大小，做不同程度调整</p>
<hr>
<p>好了，翻阅网上资料，这两种解决方案是比较完美的，总结于此。至于一些其他方法，我觉得都不是很可取。希望这篇文章对你处理这类问题有帮助。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://www.asiawang.me/2017/04/13/javascript-浮点数计算精度问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Asia Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Asia's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/13/javascript-浮点数计算精度问题/" itemprop="url">
                  javascript 浮点数计算精度问题
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-13T21:27:51+08:00">
                2017-04-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/笔记/" itemprop="url" rel="index">
                    <span itemprop="name">笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/04/13/javascript-浮点数计算精度问题/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/04/13/javascript-浮点数计算精度问题/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>今天，工作中遇到浮点数运算精度问题，之前也有印象但是没做系统总结。为了保证今后不犯相同的错误， 现查询资料后总结如下。</p>
</blockquote>
<h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>浏览器输入<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">0.1</span> + <span class="number">0.2</span> != <span class="number">0.3</span> <span class="comment">// =&gt;true</span></div></pre></td></tr></table></figure></p>
<p>返回结果为<code>true</code></p>
<p>chrome 控制台输入<code>0.1 + 0.2</code> 结果：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">0.30000000000000004</span></div></pre></td></tr></table></figure></p>
<h2 id="产生原因"><a href="#产生原因" class="headerlink" title="产生原因"></a>产生原因</h2><p>这是什么原因呢，我记的大学呢时候老师讲浮点数精度问题，但许久没碰到这种问题也都忘记了，今天专门查<br>寻了一下资料，一起来探究下面原理</p>
<h3 id="计算机存储原理"><a href="#计算机存储原理" class="headerlink" title="计算机存储原理"></a>计算机存储原理</h3><p>JS 遵循 IEEE 754 规范，采用双精度存储（double precision），占用 64 bit。如图</p>
<p><img src="/uploads/double/双精度存储.png" alt="双精度存储"></p>
<p><em>说明：</em></p>
<ul>
<li>1位用来表示符号位</li>
<li>11位用来表示指数</li>
<li>52位表示尾数</li>
</ul>
<h3 id="十进制转二进制算法"><a href="#十进制转二进制算法" class="headerlink" title="十进制转二进制算法"></a>十进制转二进制算法</h3><p>计算机以以上方法存储，那么计算机的二进制实现和位数限制有些数无法有限表示。就像一些无理数不能有限表示，<br>如 圆周率 3.1415926…，1.3333… 等。</p>
<p>下面通过介绍十进制转二进制算法来理解这部分，十进制转换为二进制，分为整数部分和小数部分 </p>
<h4 id="整数部分"><a href="#整数部分" class="headerlink" title="整数部分"></a>整数部分</h4><p>方法：除2取余法，即每次将整数部分除以2，余数为该位权上的数，而商继续除以2，余数又为上一个位权上的数，这个步骤一直持续下去，直到商为0为止，最后读数时候，从最后一个余数读起，一直到最前面的一个余数。下面举例：<br>例：将十进制的168转换为二进制 </p>
<p>得出结果 将十进制的168转换为二进制，（10101000）2<br>分析:第一步，将168除以2,商84,余数为0。<br>第二步，将商84除以2，商42余数为0。<br>第三步，将商42除以2，商21余数为0。<br>第四步，将商21除以2，商10余数为1。<br>第五步，将商10除以2，商5余数为0。<br>第六步，将商5除以2，商2余数为1。<br>第七步，将商2除以2，商1余数为0。<br>第八步，将商1除以2，商0余数为1。<br>第九步，读数，因为最后一位是经过多次除以2才得到的，因此它是最高位，读数字从最后的余数向前读，即10101000 </p>
<h4 id="小数部分"><a href="#小数部分" class="headerlink" title="小数部分"></a>小数部分</h4><p>方法：乘2取整法，即将小数部分乘以2，然后取整数部分，剩下的小数部分继续乘以2，然后取整数部分，剩下的小数部分又乘以2，一直取到小数部分<br>为零为止。 <strong>如果永远不能为零，就同十进制数的四舍五入一样，按照要求保留多少位小数时，就根据后面一位是0还是1，取舍，如果是零，舍掉，如果是1，向前入一位。换句话说就是0舍1入。</strong> 读数要从前面的整数读到后面的整数，下面举例：<br>例1：将0.125换算为二进制 </p>
<p>得出结果：将0.125换算为二进制（0.001）2<br>分析：第一步，将0.125乘以2，得0.25,则整数部分为0,小数部分为0.25;<br>第二步, 将小数部分0.25乘以2,得0.5,则整数部分为0,小数部分为0.5;<br>第三步, 将小数部分0.5乘以2,得1.0,则整数部分为1,小数部分为0.0;<br>第四步,读数,从第一位读起,读到最后一位,即为0.001。 </p>
<p>理解小数部分计算原理后，那么：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">0.1 &gt;&gt;转为2进制&gt;&gt; 0.0001 1001 1001 1001…（1001无限循环）</div><div class="line">0.2 &gt;&gt;转为2进制&gt;&gt; 0.0011 0011 0011 0011…（0011无限循环）</div></pre></td></tr></table></figure></p>
<p>出现这种情况就会 <strong>0舍1入</strong> 也就是会导致精度出现问题的原因。</p>
<h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p>对于整数，前端出现问题的几率可能比较低，毕竟很少有业务需要需要用到超大整数，只要运算结果不超过 Math.pow(2, 53) 就不会丢失精度。</p>
<p>对于小数，前端出现问题的几率还是很多的，尤其在一些电商网站涉及到金额等数据。解决方式：把小数放到位整数（乘倍数），再缩小回原来倍数（除倍数）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * floatTool 包含加减乘除四个方法，能确保浮点数运算不丢失精度</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * 我们知道计算机编程语言里浮点数计算会存在精度丢失问题（或称舍入误差），其根本原因是二进制和实现位数限制有些数无法有限表示</span></div><div class="line"><span class="comment"> * 以下是十进制小数对应的二进制表示</span></div><div class="line"><span class="comment"> *      0.1 &gt;&gt; 0.0001 1001 1001 1001…（1001无限循环）</span></div><div class="line"><span class="comment"> *      0.2 &gt;&gt; 0.0011 0011 0011 0011…（0011无限循环）</span></div><div class="line"><span class="comment"> * 计算机里每种数据类型的存储是一个有限宽度，比如 JavaScript 使用 64 位存储数字类型，因此超出的会舍去。舍去的部分就是精度丢失的部分。</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * ** method **</span></div><div class="line"><span class="comment"> *  add / subtract / multiply /divide</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * ** explame **</span></div><div class="line"><span class="comment"> *  0.1 + 0.2 == 0.30000000000000004 （多了 0.00000000000004）</span></div><div class="line"><span class="comment"> *  0.2 + 0.4 == 0.6000000000000001  （多了 0.0000000000001）</span></div><div class="line"><span class="comment"> *  19.9 * 100 == 1989.9999999999998 （少了 0.0000000000002）</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * floatTool.add(0.1, 0.2) &gt;&gt; 0.3</span></div><div class="line"><span class="comment"> * floatTool.multiply(19.9, 100) &gt;&gt; 1990</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">var</span> floatTool = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    </div><div class="line">    <span class="comment">/*</span></div><div class="line"><span class="comment">     * 判断obj是否为一个整数</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">isInteger</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">Math</span>.floor(obj) === obj</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">/*</span></div><div class="line"><span class="comment">     * 将一个浮点数转成整数，返回整数和倍数。如 3.14 &gt;&gt; 314，倍数是 100</span></div><div class="line"><span class="comment">     * @param floatNum &#123;number&#125; 小数</span></div><div class="line"><span class="comment">     * @return &#123;object&#125;</span></div><div class="line"><span class="comment">     *   &#123;times:100, num: 314&#125;</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">toInteger</span>(<span class="params">floatNum</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> ret = &#123;<span class="attr">times</span>: <span class="number">1</span>, <span class="attr">num</span>: <span class="number">0</span>&#125;</div><div class="line">        <span class="keyword">if</span> (isInteger(floatNum)) &#123;</div><div class="line">            ret.num = floatNum</div><div class="line">            <span class="keyword">return</span> ret</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">var</span> strfi  = floatNum + <span class="string">''</span></div><div class="line">        <span class="keyword">var</span> dotPos = strfi.indexOf(<span class="string">'.'</span>)</div><div class="line">        <span class="keyword">var</span> len    = strfi.substr(dotPos+<span class="number">1</span>).length</div><div class="line">        <span class="keyword">var</span> times  = <span class="built_in">Math</span>.pow(<span class="number">10</span>, len)</div><div class="line">        <span class="keyword">var</span> intNum = <span class="built_in">parseInt</span>(floatNum * times + <span class="number">0.5</span>, <span class="number">10</span>)</div><div class="line">        ret.times  = times</div><div class="line">        ret.num    = intNum</div><div class="line">        <span class="keyword">return</span> ret</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">/*</span></div><div class="line"><span class="comment">     * 核心方法，实现加减乘除运算，确保不丢失精度</span></div><div class="line"><span class="comment">     * 思路：把小数放大为整数（乘），进行算术运算，再缩小为小数（除）</span></div><div class="line"><span class="comment">     *</span></div><div class="line"><span class="comment">     * @param a &#123;number&#125; 运算数1</span></div><div class="line"><span class="comment">     * @param b &#123;number&#125; 运算数2</span></div><div class="line"><span class="comment">     * @param digits &#123;number&#125; 精度，保留的小数点数，比如 2, 即保留为两位小数</span></div><div class="line"><span class="comment">     * @param op &#123;string&#125; 运算类型，有加减乘除（add/subtract/multiply/divide）</span></div><div class="line"><span class="comment">     *</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">operation</span>(<span class="params">a, b, op</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> o1 = toInteger(a)</div><div class="line">        <span class="keyword">var</span> o2 = toInteger(b)</div><div class="line">        <span class="keyword">var</span> n1 = o1.num</div><div class="line">        <span class="keyword">var</span> n2 = o2.num</div><div class="line">        <span class="keyword">var</span> t1 = o1.times</div><div class="line">        <span class="keyword">var</span> t2 = o2.times</div><div class="line">        <span class="keyword">var</span> max = t1 &gt; t2 ? t1 : t2</div><div class="line">        <span class="keyword">var</span> result = <span class="literal">null</span></div><div class="line">        <span class="keyword">switch</span> (op) &#123;</div><div class="line">            <span class="keyword">case</span> <span class="string">'add'</span>:</div><div class="line">                <span class="keyword">if</span> (t1 === t2) &#123; <span class="comment">// 两个小数位数相同</span></div><div class="line">                    result = n1 + n2</div><div class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (t1 &gt; t2) &#123; <span class="comment">// o1 小数位 大于 o2</span></div><div class="line">                    result = n1 + n2 * (t1 / t2)</div><div class="line">                &#125; <span class="keyword">else</span> &#123; <span class="comment">// o1 小数位 小于 o2</span></div><div class="line">                    result = n1 * (t2 / t1) + n2</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">return</span> result / max</div><div class="line">            <span class="keyword">case</span> <span class="string">'subtract'</span>:</div><div class="line">                <span class="keyword">if</span> (t1 === t2) &#123;</div><div class="line">                    result = n1 - n2</div><div class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (t1 &gt; t2) &#123;</div><div class="line">                    result = n1 - n2 * (t1 / t2)</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    result = n1 * (t2 / t1) - n2</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">return</span> result / max</div><div class="line">            <span class="keyword">case</span> <span class="string">'multiply'</span>:</div><div class="line">                result = (n1 * n2) / (t1 * t2)</div><div class="line">                <span class="keyword">return</span> result</div><div class="line">            <span class="keyword">case</span> <span class="string">'divide'</span>:</div><div class="line">                <span class="keyword">return</span> result = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">                    <span class="keyword">var</span> r1 = n1 / n2</div><div class="line">                    <span class="keyword">var</span> r2 = t2 / t1</div><div class="line">                    <span class="keyword">return</span> operation(r1, r2, <span class="string">'multiply'</span>)</div><div class="line">                &#125;()</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// 加减乘除的四个接口</span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> operation(a, b, <span class="string">'add'</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">subtract</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> operation(a, b, <span class="string">'subtract'</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">multiply</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> operation(a, b, <span class="string">'multiply'</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">divide</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> operation(a, b, <span class="string">'divide'</span>)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// exports</span></div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        add: add,</div><div class="line">        subtract: subtract,</div><div class="line">        multiply: multiply,</div><div class="line">        divide: divide</div><div class="line">    &#125;</div><div class="line">&#125;();</div></pre></td></tr></table></figure>
<h2 id="toFixed-不会四舍五入"><a href="#toFixed-不会四舍五入" class="headerlink" title="toFixed 不会四舍五入"></a><code>toFixed</code> 不会四舍五入</h2><p>按照上面存储原理，不同浏览器<code>toFixed</code>表现不一，有可能出现不会四舍五入的情况，可以用以下函数代替</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// toFixed 修复</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">toFixed</span>(<span class="params">num, s</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> times = <span class="built_in">Math</span>.pow(<span class="number">10</span>, s)</div><div class="line">    <span class="keyword">var</span> des = num * times + <span class="number">0.5</span></div><div class="line">    des = <span class="built_in">parseInt</span>(des, <span class="number">10</span>) / times</div><div class="line">    <span class="keyword">return</span> des + <span class="string">''</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>[1] <a href="https://www.cnblogs.com/snandy/p/4943138.html" target="_blank" rel="external">JavaScript数字精度丢失问题总结</a></p>
<p>[2] <a href="http://www.cnblogs.com/lds85930/archive/2007/09/19/897912.html" target="_blank" rel="external">二进制、八进制、十进制、十六进制之间转换</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://www.asiawang.me/2017/04/06/requirejs-学习汇总/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Asia Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Asia's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/06/requirejs-学习汇总/" itemprop="url">
                  requirejs 学习汇总
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-06T22:55:42+08:00">
                2017-04-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/笔记/" itemprop="url" rel="index">
                    <span itemprop="name">笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/04/06/requirejs-学习汇总/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/04/06/requirejs-学习汇总/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="/uploads/require/logo.png" alt="require logo"></p>
<blockquote>
<p>下面是我之前在学习requirejs期间看了几篇博文，加上自己一点点理解将其汇总于此。</p>
</blockquote>
<h2 id="中文官网"><a href="#中文官网" class="headerlink" title="中文官网"></a>中文官网</h2><ul>
<li><a href="http://www.requirejs.cn/home.html" target="_blank" rel="external">中文官网</a></li>
<li><a href="http://www.requirejs.cn/docs/api.html" target="_blank" rel="external">中文官网API</a></li>
</ul>
<h2 id="初识requirejs"><a href="#初识requirejs" class="headerlink" title="初识requirejs"></a>初识requirejs</h2><p>随着网站功能逐渐丰富，网页中的js也变得越来越复杂和臃肿，原有通过<code>script</code>标签来导入一个个的js文件这种方式已经不能满足现在互联网开发模式，我们需要团队协作、模块复用、单元测试等等一系列复杂的需求。</p>
<p><code>RequireJS</code>是一个非常小巧的<code>JavaScript</code>模块载入框架，是<code>AMD</code>规范最好的实现者之一。最新版本的<code>RequireJS</code>压缩后只有14K，堪称非常轻量。它还同时可以和其他的框架协同工作，使用<code>RequireJS</code>必将使您的前端代码质量得以提升。</p>
<h3 id="requirejs好处"><a href="#requirejs好处" class="headerlink" title="requirejs好处"></a>requirejs好处</h3><p>官方对requirejs的描述：</p>
<blockquote>
<p>RequireJS is a JavaScript file and module loader. It is optimized for<br>in-browser use, but it can be used in other JavaScript environments, like<br>Rhino and Node. Using a modular script loader like RequireJS will improve the<br>speed and quality of your code.</p>
</blockquote>
<p>翻译过来大致意思：<br>在浏览器中可以作为js文件的模块加载器，也可以用在<code>Node</code>和<code>Rhino</code>环境，balabala…。这段话描述了<code>requirejs</code>的基本功能”模块化加载”。</p>
<p>什么是模块化加载？我们要从之后的篇幅中一一解释<br>先来看一段常见的场景，通过示例讲解如何运用<code>requirejs</code></p>
<p><strong>正常编写方式</strong></p>
<p><code>index.html</code><br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"a.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>body<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><code>a.js</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun1</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  alert(<span class="string">"it works"</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line">fun1();</div></pre></td></tr></table></figure></p>
<p>可能更喜欢这样<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fun1</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      alert(<span class="string">"it works"</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    fun1();</div><div class="line">&#125;)()</div></pre></td></tr></table></figure></p>
<p>第二种方法使用了块作用域来申明function防止污染全局变量，本质还是一样的，当运行上面两种例子时不知道你是否注意到，alert执行的时候，html内容是一片空白的，即<code>&lt;span&gt;</code>body<code>&lt;/span&gt;</code>并未被显示，当点击确定后，才出现，这就是JS阻塞浏览器渲染导致的结果。</p>
<p><strong>requirejs写法</strong></p>
<p>当然首先要到requirejs的网站去<a href="http://www.requirejs.cn/docs/download.html" target="_blank" rel="external">下载js</a></p>
<p><code>index.html</code><br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"require.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript">            <span class="built_in">require</span>([<span class="string">"a"</span>]);</span></div><div class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>body<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><code>a.js</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fun1</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      alert(<span class="string">"it works"</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    fun1();</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>浏览器提示了”it works”，说明运行正确，但是有一点不一样，这次浏览器并不是一片空白，body已经出现在页面中。</p>
<p>目前为止可以知道requirejs具有如下优点：</p>
<ol>
<li>防止js加载阻塞页面渲染</li>
<li>使用程序调用的方式加载js，防出现如下丑陋的场景</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"a.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"b.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"c.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"d.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"e.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"f.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"g.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"h.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"i.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"j.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="requirejs基本知识"><a href="#requirejs基本知识" class="headerlink" title="requirejs基本知识"></a>requirejs基本知识</h2><p>上面我们以非常简单的方式引入了requirejs，这一篇将讲述一下requirejs中的一些基本知识，包括API使用方式等。</p>
<h3 id="基本API"><a href="#基本API" class="headerlink" title="基本API"></a>基本API</h3><p>requirejs会定义三个变量：<code>define</code>,<code>require</code>,<code>requirejs</code>，其中<code>require === requirejs</code>，一般使用<code>require</code>更简短</p>
<ul>
<li>define 从名字就可以看出这个api是用来定义一个模块</li>
<li>require 加载依赖模块，并执行加载完后的回调函数</li>
</ul>
<p>前一节中的a.js：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fun1</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      alert(<span class="string">"it works"</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    fun1();</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>通过define函数定义了一个模块，然后再页面中使用：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>([<span class="string">"js/a"</span>]);</div></pre></td></tr></table></figure></p>
<p>来加载该模块(注意require中的依赖是一个数组，即使只有一个依赖，你也必须使用数组来定义，require API的第二个参数是callback，一个function，是用来处理加载完毕后的逻辑，如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>([<span class="string">"js/a"</span>],<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(<span class="string">"load finished"</span>);</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="定义模块"><a href="#定义模块" class="headerlink" title="定义模块"></a>定义模块</h3><p>define方法用于定义模块，RequireJS要求每个模块放在一个单独的文件里。</p>
<p>按照是否依赖其他模块，可以分成两种情况讨论。第一种情况是定义独立模块，即所定义的模块不依赖其他模块；第二种情况是定义非独立模块，即所定义的模块依赖于其他模块。</p>
<p>1.独立模块</p>
<p>如果被定义的模块是一个独立模块，不需要依赖任何其他模块，可以直接用define方法生成。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">define(&#123;</div><div class="line">    method1: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;,</div><div class="line">    method2: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;,</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>上面代码生成了一个拥有method1、method2两个方法的模块。</p>
<p>另一种等价的写法是，把对象写成一个函数，该函数的返回值就是输出的模块。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">define(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        method1: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;,</div><div class="line">        method2: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;,</div><div class="line">    &#125;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>后一种写法的自由度更高一点，可以在函数体内写一些模块初始化代码。</p>
<p>值得指出的是，define定义的模块可以返回任何值，不限于对象。</p>
<p>2.非独立模块</p>
<p>如果被定义的模块需要依赖其他模块，则define方法必须采用下面的格式。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">define([<span class="string">'module1'</span>, <span class="string">'module2'</span>], <span class="function"><span class="keyword">function</span>(<span class="params">m1, m2</span>) </span>&#123;</div><div class="line">   ...</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>define方法的第一个参数是一个数组，它的成员是当前模块所依赖的模块。比如，[‘module1’, ‘module2’]表示我们定义的这个新模块依赖于module1模块和module2模块，只有先加载这两个模块，新模块才能正常运行。一般情况下，module1模块和module2模块指的是，当前目录下的module1.js文件和module2.js文件，等同于写成[‘./module1’, ‘./module2’]。</p>
<p>define方法的第二个参数是一个函数，当前面数组的所有成员加载成功后，它将被调用。它的参数与数组的成员一一对应，比如function(m1, m2)就表示，这个函数的第一个参数m1对应module1模块，第二个参数m2对应module2模块。这个函数必须返回一个对象，供其他模块调用。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">define([<span class="string">'module1'</span>, <span class="string">'module2'</span>], <span class="function"><span class="keyword">function</span>(<span class="params">m1, m2</span>) </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        method: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            m1.methodA();</div><div class="line">            m2.methodB();</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>上面代码表示新模块返回一个对象，该对象的method方法就是外部调用的接口，method方法内部调用了m1模块的methodA方法和m2模块的methodB方法。</p>
<p>需要注意的是，回调函数必须返回一个对象，这个对象就是你定义的模块。</p>
<p>如果依赖的模块很多，参数与模块一一对应的写法非常麻烦。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">define(</div><div class="line">    [  <span class="string">'dep1'</span>, <span class="string">'dep2'</span>, <span class="string">'dep3'</span>, <span class="string">'dep4'</span>, <span class="string">'dep5'</span>, <span class="string">'dep6'</span>, <span class="string">'dep7'</span>, <span class="string">'dep8'</span>],</div><div class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">dep1,   dep2,   dep3,   dep4,   dep5,   dep6,   dep7,   dep8</span>)</span>&#123;</div><div class="line">        ...</div><div class="line">    &#125;</div><div class="line">);</div></pre></td></tr></table></figure></p>
<p>为了避免像上面代码那样繁琐的写法，RequireJS提供一种更简单的写法。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">define(</div><div class="line">    <span class="function"><span class="keyword">function</span> (<span class="params">require</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> dep1 = <span class="built_in">require</span>(<span class="string">'dep1'</span>),</div><div class="line">            dep2 = <span class="built_in">require</span>(<span class="string">'dep2'</span>),</div><div class="line">            dep3 = <span class="built_in">require</span>(<span class="string">'dep3'</span>),</div><div class="line">            dep4 = <span class="built_in">require</span>(<span class="string">'dep4'</span>),</div><div class="line">            dep5 = <span class="built_in">require</span>(<span class="string">'dep5'</span>),</div><div class="line">            dep6 = <span class="built_in">require</span>(<span class="string">'dep6'</span>),</div><div class="line">            dep7 = <span class="built_in">require</span>(<span class="string">'dep7'</span>),</div><div class="line">            dep8 = <span class="built_in">require</span>(<span class="string">'dep8'</span>);</div><div class="line"></div><div class="line">            ...</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>下面是一个define实际运用的例子。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">define([<span class="string">'math'</span>, <span class="string">'graph'</span>], </div><div class="line">    <span class="function"><span class="keyword">function</span> (<span class="params"> math, graph </span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> &#123;</div><div class="line">            plot: <span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>)</span>&#123;</div><div class="line">                <span class="keyword">return</span> graph.drawPie(math.randomGrid(x,y));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">);</div></pre></td></tr></table></figure></p>
<p>上面代码定义的模块依赖math和graph两个库，然后返回一个具有plot接口的对象。</p>
<h3 id="加载文件"><a href="#加载文件" class="headerlink" title="加载文件"></a>加载文件</h3><p>之前的例子中加载模块都是本地js，但是大部分情况下网页需要加载的JS可能来自本地服务器、其他网站或CDN，这样就不能通过这种方式来加载了，我们以加载一个jquery库为例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>.config(&#123;</div><div class="line">    paths : &#123;</div><div class="line">        <span class="string">"jquery"</span> : [<span class="string">"http://libs.baidu.com/jquery/2.0.3/jquery"</span>]   </div><div class="line">    &#125;</div><div class="line">&#125;)</div><div class="line"><span class="built_in">require</span>([<span class="string">"jquery"</span>,<span class="string">"js/a"</span>],<span class="function"><span class="keyword">function</span>(<span class="params">$</span>)</span>&#123;</div><div class="line">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        alert(<span class="string">"load finished"</span>);  </div><div class="line">    &#125;)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>这边涉及了require.config，require.config是用来配置模块加载位置，简单点说就是给模块起一个更短更好记的名字，比如将百度的jquery库地址标记为jquery，这样在require时只需要写[“jquery”]就可以加载该js，本地的js我们也可以这样配置：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>.config(&#123;</div><div class="line">    paths : &#123;</div><div class="line">        <span class="string">"jquery"</span> : [<span class="string">"http://libs.baidu.com/jquery/2.0.3/jquery"</span>],</div><div class="line">        <span class="string">"a"</span> : <span class="string">"js/a"</span>   </div><div class="line">    &#125;</div><div class="line">&#125;)</div><div class="line"><span class="built_in">require</span>([<span class="string">"jquery"</span>,<span class="string">"a"</span>],<span class="function"><span class="keyword">function</span>(<span class="params">$</span>)</span>&#123;</div><div class="line">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        alert(<span class="string">"load finished"</span>);  </div><div class="line">    &#125;)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>通过paths的配置会使我们的模块名字更精炼，paths还有一个重要的功能，就是可以配置多个路径，如果远程cdn库没有加载成功，可以加载本地的库，如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>.config(&#123;</div><div class="line">    paths : &#123;</div><div class="line">        <span class="string">"jquery"</span> : [<span class="string">"http://libs.baidu.com/jquery/2.0.3/jquery"</span>, <span class="string">"js/jquery"</span>],</div><div class="line">        <span class="string">"a"</span> : <span class="string">"js/a"</span>   </div><div class="line">    &#125;</div><div class="line">&#125;)</div><div class="line"><span class="built_in">require</span>([<span class="string">"jquery"</span>,<span class="string">"a"</span>],<span class="function"><span class="keyword">function</span>(<span class="params">$</span>)</span>&#123;</div><div class="line">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        alert(<span class="string">"load finished"</span>);  </div><div class="line">    &#125;)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>这样配置后，当百度的jquery没有加载成功后，会加载本地js目录下的jquery</p>
<p>由上注意两点：</p>
<ol>
<li>在使用requirejs时，加载模块时不用写.js后缀的</li>
<li>上面例子中的callback函数中发现有$参数，这个就是依赖的jquery模块的输出变量，如果你依赖多个模块，可以依次写入多个参数来使用：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>([<span class="string">"jquery"</span>,<span class="string">"underscore"</span>],<span class="function"><span class="keyword">function</span>(<span class="params">$, _</span>)</span>&#123;</div><div class="line">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        _.each([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],alert);</div><div class="line">    &#125;)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
</ol>
<p>如果某个模块不输出变量值，则没有，所以尽量将输出的模块写在前面，防止位置错乱引发误解</p>
<h3 id="全局配置"><a href="#全局配置" class="headerlink" title="全局配置"></a>全局配置</h3><p>上面的例子中重复出现了require.config配置，如果每个页面中都加入配置，必然显得十分不雅，requirejs提供了一种叫”主数据”的功能，我们首先创建一个<code>main.js</code>：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>.config(&#123;</div><div class="line">    paths : &#123;</div><div class="line">        <span class="string">"jquery"</span> : [<span class="string">"http://libs.baidu.com/jquery/2.0.3/jquery"</span>, <span class="string">"js/jquery"</span>],</div><div class="line">        <span class="string">"a"</span> : <span class="string">"js/a"</span>   </div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>然后再页面中使用下面的方式来使用requirejs：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">data-main</span>=<span class="string">"js/main"</span> <span class="attr">src</span>=<span class="string">"js/require.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><strong>解释：</strong>加载requirejs脚本的script标签加入了data-main属性，这个属性指定的js将在加载完reuqire.js后处理，我们把require.config的配置加入到data-main后，就可以使每一个页面都使用这个配置，然后页面中就可以直接使用require来加载所有的短模块名。</p>
<p>data-main还有一个重要的功能，当script标签指定data-main属性时，require会默认的将data-main指定的js为根路径，是什么意思呢？如上面的data-main=”js/main”设定后，我们在使用require([‘jquery’])后(不配置jquery的paths)，require会自动加载js/jquery.js这个文件，而不是jquery.js，相当于默认配置了：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>.config(&#123;</div><div class="line">    baseUrl : <span class="string">"js"</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<h3 id="第三方模块"><a href="#第三方模块" class="headerlink" title="第三方模块"></a>第三方模块</h3><p>通过require加载的模块一般都需要符合AMD规范即使用define来申明模块，但是部分时候需要加载非AMD规范的js，这时候就需要用到另一个功能：shim，shim解释起来也比较难理解，shim直接翻译为”垫”，看看下面3种用法</p>
<p>1.非AMD模块输出，将非标准的AMD模块”垫”成可用的模块，例如：在老版本的jquery中，是没有继承AMD规范的，所以不能直接require[“jquery”],这时候就需要shim，比如我要是用underscore类库，但是他并没有实现AMD规范，那我们可以这样配置<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>.config(&#123;</div><div class="line">    shim: &#123;</div><div class="line">        <span class="string">"underscore"</span> : &#123;</div><div class="line">            exports : <span class="string">"_"</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>这样配置后，我们就可以在其他模块中引用underscore模块：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>([<span class="string">"underscore"</span>], <span class="function"><span class="keyword">function</span>(<span class="params">_</span>)</span>&#123;</div><div class="line">    _.each([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], alert);</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p><strong>解释：</strong> exports 相当“浏览器全局变量注入”，即类似你按普通引入js暴露给全局的那个变量，比如老版本jQuery，可以按照下面配置<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>.config(&#123;</div><div class="line">    shim: &#123;</div><div class="line">        <span class="string">"jquery"</span> : &#123;</div><div class="line">            exports: <span class="string">'jQuery'</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>或者<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>.config(&#123;</div><div class="line">    shim: &#123;</div><div class="line">        <span class="string">"jquery"</span> : &#123;</div><div class="line">            exports: <span class="string">'$'</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>2.非AMD模块依赖, 例如backbone依赖underscore<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>.config(&#123;</div><div class="line">    paths: &#123;</div><div class="line">        <span class="string">"backbone"</span>: <span class="string">"vendor/backbone"</span>,</div><div class="line">        <span class="string">"underscore"</span>: <span class="string">"vendor/underscore"</span></div><div class="line">    &#125;,</div><div class="line">    shim: &#123;</div><div class="line">        <span class="string">"backbone"</span>: &#123;</div><div class="line">            deps: [ <span class="string">"underscore"</span> ],</div><div class="line">            exports: <span class="string">"Backbone"</span></div><div class="line">        &#125;,</div><div class="line">        <span class="string">"underscore"</span>: &#123;</div><div class="line">            exports: <span class="string">"_"</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>3.那些仅作为jQuery或Backbone的插件存在而不导出任何模块变量的”模块”们，shim配置可简单设置为依赖数组：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">requirejs.config(&#123;</div><div class="line">    shim: &#123;</div><div class="line">        <span class="string">'jquery.colorize'</span>: [<span class="string">'jquery'</span>],</div><div class="line">        <span class="string">'jquery.scroll'</span>: [<span class="string">'jquery'</span>],</div><div class="line">        <span class="string">'backbone.layoutmanager'</span>: [<span class="string">'backbone'</span>]</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>更建议的写法：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">requirejs.config(&#123;</div><div class="line">    shim: &#123;</div><div class="line">        <span class="string">'jquery.colorize'</span>: &#123;</div><div class="line">            deps: [<span class="string">'jquery'</span>],</div><div class="line">            exports: <span class="string">'jQuery.fn.colorize'</span></div><div class="line">        &#125;,</div><div class="line">        <span class="string">'jquery.scroll'</span>: &#123;</div><div class="line">            deps: [<span class="string">'jquery'</span>],</div><div class="line">            exports: <span class="string">'jQuery.fn.scroll'</span></div><div class="line">        &#125;,</div><div class="line">        <span class="string">'backbone.layoutmanager'</span>: &#123;</div><div class="line">            deps: [<span class="string">'backbone'</span>]</div><div class="line">            exports: <span class="string">'Backbone.LayoutManager'</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>配置完使用：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>.config([<span class="string">"jquery"</span>, <span class="string">"jquery.colorize"</span>], <span class="function"><span class="keyword">function</span>(<span class="params">$</span>)</span>&#123;</div><div class="line">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="comment">//....</span></div><div class="line">    &#125;)</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<h3 id="requirejs-插件"><a href="#requirejs-插件" class="headerlink" title="requirejs 插件"></a>requirejs 插件</h3><p>RequireJS允许使用插件，加载各种格式的数据。下面简单介绍常用的一种（完整参考<a href="http://www.requirejs.cn/docs/api.html" target="_blank" rel="external">官方API</a>）</p>
<p>下面是插入文本数据所使用的text插件的例子<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">define([</div><div class="line">    <span class="string">'backbone'</span>,</div><div class="line">    <span class="string">'text!templates.html'</span></div><div class="line">], <span class="function"><span class="keyword">function</span>(<span class="params"> Backbone, template </span>)</span>&#123;</div><div class="line">   <span class="comment">// ...</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>上面代码加载的第一个模块是backbone，第二个模块则是一个文本，用’text!’表示。该文本作为字符串，存放在回调函数的template变量中。</p>
<h3 id="优化器r-js"><a href="#优化器r-js" class="headerlink" title="优化器r.js"></a>优化器r.js</h3><p>RequireJS提供一个基于node.js的命令行工具r.js，用来压缩多个js文件。它的主要作用是将多个模块文件压缩合并成一个脚本文件，以减少网页的HTTP请求数。</p>
<p>第一步是安装r.js（假设已经安装了node.js）。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install -g requirejs</div></pre></td></tr></table></figure></p>
<p>然后，使用的时候，直接在命令行键入以下格式的命令。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">node r.js -o &lt;arguments&gt;</div></pre></td></tr></table></figure></p>
<p><argument>表示命令运行时，所需要的一系列参数，比如像下面这样：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">node r.js -o baseUrl=. name=main out=main-built.js</div></pre></td></tr></table></figure></argument></p>
<p>除了直接在命令行提供参数设置，也可以将参数写入一个文件，假定文件名为build.js。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">(&#123;</div><div class="line">    baseUrl: <span class="string">"."</span>,</div><div class="line">    name: <span class="string">"main"</span>,</div><div class="line">    out: <span class="string">"main-built.js"</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>然后，在命令行下用r.js运行这个参数文件，就OK了，不需要其他步骤了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">node r.js -o build.js</div></pre></td></tr></table></figure></p>
<p>下面是一个参数文件的范例，假定位置就在根目录下，文件名为build.js。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">(&#123;</div><div class="line">    appDir: <span class="string">'./'</span>,</div><div class="line">    baseUrl: <span class="string">'./js'</span>,</div><div class="line">    dir: <span class="string">'./dist'</span>,</div><div class="line">    modules: [</div><div class="line">        &#123;</div><div class="line">            name: <span class="string">'main'</span></div><div class="line">        &#125;</div><div class="line">    ],</div><div class="line">    fileExclusionRegExp: <span class="regexp">/^(r|build)\.js$/</span>,</div><div class="line">    optimizeCss: <span class="string">'standard'</span>,</div><div class="line">    removeCombined: <span class="literal">true</span>,</div><div class="line">    paths: &#123;</div><div class="line">        jquery: <span class="string">'lib/jquery'</span>,</div><div class="line">        underscore: <span class="string">'lib/underscore'</span>,</div><div class="line">        backbone: <span class="string">'lib/backbone/backbone'</span>,</div><div class="line">        backboneLocalstorage: <span class="string">'lib/backbone/backbone.localStorage'</span>,</div><div class="line">        text: <span class="string">'lib/require/text'</span></div><div class="line">    &#125;,</div><div class="line">    shim: &#123;</div><div class="line">        underscore: &#123;</div><div class="line">            exports: <span class="string">'_'</span></div><div class="line">        &#125;,</div><div class="line">        backbone: &#123;</div><div class="line">            deps: [</div><div class="line">                <span class="string">'underscore'</span>,</div><div class="line">                <span class="string">'jquery'</span></div><div class="line">            ],</div><div class="line">            exports: <span class="string">'Backbone'</span></div><div class="line">        &#125;,</div><div class="line">        backboneLocalstorage: &#123;</div><div class="line">            deps: [<span class="string">'backbone'</span>],</div><div class="line">            exports: <span class="string">'Store'</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>上面代码将多个模块压缩合并成一个main.js。</p>
<p>参数文件的主要成员解释如下：</p>
<blockquote>
<ul>
<li>appDir：项目目录，相对于参数文件的位置。</li>
<li>baseUrl：js文件的位置。</li>
<li>dir：输出目录。</li>
<li>modules：一个包含对象的数组，每个对象就是一个要被优化的模块。</li>
<li>fileExclusionRegExp：凡是匹配这个正则表达式的文件名，<br>都不会被拷贝到输出目录。 </li>
<li>optimizeCss: 自动压缩CSS文件，可取的值包括“none”, “standard”, “standard.<br>keepLines”, “standard.keepComments”, “standard.keepComments.keepLines”。</li>
<li>removeCombined：如果为true，合并后的原文件将不保留在输出目录中。</li>
<li>paths：各个模块的相对路径，可以省略js后缀名。</li>
<li>shim：配置依赖性关系。如果某一个模块不是AMD模式定义的，就可以用shim属性指定<br>模块的依赖性关系和输出值。</li>
<li>generateSourceMaps：是否要生成source map文件。</li>
</ul>
</blockquote>
<p>更详细的解释可以参考<a href="https://github.com/jrburke/r.js/blob/master/build/example.build.js" target="_blank" rel="external">参考官方文档</a></p>
<p>运行优化命令后，可以前往dist目录查看优化后的文件。</p>
<p>下面是另一个build.js的例子:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">(&#123;</div><div class="line">    mainConfigFile : <span class="string">"js/main.js"</span>,</div><div class="line">    baseUrl: <span class="string">"js"</span>,</div><div class="line">    removeCombined: <span class="literal">true</span>,</div><div class="line">    findNestedDependencies: <span class="literal">true</span>,</div><div class="line">    dir: <span class="string">"dist"</span>,</div><div class="line">    modules: [</div><div class="line">        &#123;</div><div class="line">            name: <span class="string">"main"</span>,</div><div class="line">            exclude: [</div><div class="line">                <span class="string">"infrastructure"</span></div><div class="line">            ]</div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">            name: <span class="string">"infrastructure"</span></div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>上面代码将模块文件压缩合并成两个文件，第一个是main.js（指定排除infrastructure.js），第二个则是infrastructure.js。</p>
<h3 id="涉及文章链接"><a href="#涉及文章链接" class="headerlink" title="涉及文章链接"></a>涉及文章链接</h3><p>[1] <a href="http://www.runoob.com/w3cnote/requirejs-tutorial-1.html" target="_blank" rel="external">JS模块化工具requirejs教程(一)：初识requirejs</a></p>
<p>[2] <a href="http://www.runoob.com/w3cnote/requirejs-tutorial-2.html" target="_blank" rel="external">JS模块化工具requirejs教程(二)：基本知识</a></p>
<p>[3] <a href="http://javascript.ruanyifeng.com/tool/requirejs.html" target="_blank" rel="external">RequireJS和AMD规范</a></p>
<p>[4] <a href="http://www.requirejs.cn/docs/api.html" target="_blank" rel="external">require中文官网API</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://www.asiawang.me/2017/04/04/Markdown语法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Asia Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Asia's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/04/Markdown语法/" itemprop="url">
                  Markdown语法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-04T22:35:20+08:00">
                2017-04-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/笔记/" itemprop="url" rel="index">
                    <span itemprop="name">笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/04/04/Markdown语法/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/04/04/Markdown语法/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Markdown-简介"><a href="#Markdown-简介" class="headerlink" title="Markdown 简介"></a>Markdown 简介</h2><p><code>Markdown</code> 是一门适用于网络的书写语言，其目标是实现「易读易写」。</p>
<p>众多博客网站，代码仓库，笔记等都支持<code>Markdown</code> 语法。他们都有<code>Markdown</code> 的解析引擎，会将<code>Markdown</code>语法的内容，转译为适合网络显示的<code>html</code>。比如大家熟知的<code>Github</code>在每个开源项目中都会有个 <code>README.md</code>，这个文件就是用<code>Markdown</code>语法写的，最终会被解析成优美的，格式整齐的项目简介和使用教程。许多社区也是，不熟悉<code>Markdown</code>语法都不好意思评论，进去根本就玩不转。</p>
<p>那么说了这么多，<code>Markdown</code>到底有什么好处呢?总结下来如下：</p>
<ul>
<li>纯文本，所以兼容性极强，可以用所有文本编辑器打开。</li>
<li>让你专注于文字而不是排版。</li>
<li>格式转换方便，<code>Markdown</code> 的文本可以轻松转换为 <code>html</code>、电子书等。</li>
<li><code>Markdown</code> 的标记语法有极好的可读性。</li>
<li>我认为最最重要的是，支持各种代码的高亮显示，让你不用对着一坨全黑的代码看半天。</li>
</ul>
<p>总之在我看来，<code>Markdown</code> 就是<strong>程序猿写文档必备的一门语言</strong>。</p>
<h2 id="Markdown-常用语法说明"><a href="#Markdown-常用语法说明" class="headerlink" title="Markdown 常用语法说明"></a>Markdown 常用语法说明</h2><p><em>一听把<code>Markdown</code>当作一门语言，心里一定发虚，又要花费一段时间学习了- -///。<br>不用！你只需记住一些常用语法，正常打字，敲敲回车，在一些关键地方做一些语法标记。保存以后发现一篇优美的文档就出现在你面前了，就是这么神奇。</em></p>
<p>好，下面介绍<code>Markdown</code>几个常用语法：</p>
<hr>
<h3 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h3><p><em>一篇文章要划分多个部分，标题不可少，标题<code>Markdown</code>语法如下(# 与 文字间要有空格)</em><br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="section"># 一级标题</span></div><div class="line"><span class="section">## 二级标题</span></div><div class="line"><span class="section">### 三级标题</span></div><div class="line"><span class="section">#### 四级标题</span></div><div class="line"><span class="section">##### 五级标题</span></div><div class="line"><span class="section">###### 六级标题</span></div></pre></td></tr></table></figure></p>
<hr>
<h3 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h3><p><em>列表格式也很常用，在 Markdown 中，你只需要在文字前面加上 - 就可以了，例如：</em><br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="bullet">- </span>文本1</div><div class="line"><span class="bullet">- </span>文本2</div><div class="line"><span class="bullet">- </span>文本3</div></pre></td></tr></table></figure></p>
<p>效果如下：</p>
<ul>
<li>文本1</li>
<li>文本2</li>
<li>文本3</li>
</ul>
<p><em>如果你希望有序列表，也可以在文字前面加上 1. 2. 3. 就可以了，例如：</em><br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="bullet">1. </span>文本1</div><div class="line"><span class="bullet">2. </span>文本2</div><div class="line"><span class="bullet">3. </span>文本3</div></pre></td></tr></table></figure></p>
<p>效果如下：</p>
<ol>
<li>文本1</li>
<li>文本2</li>
<li>文本3</li>
</ol>
<hr>
<h3 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h3><p><em>Markdown 中，你只需要在你希望引用的文字前面加上 &gt; 就好了（符号与文字间要有空格，换行可加可不加，不过建议都加），例如：</em><br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="quote">&gt; 一盏灯， 一片昏黄； </span></div><div class="line"><span class="quote">&gt; 一简书， 一杯淡茶。 </span></div><div class="line">守着那一份淡定， 品读属于自己的寂寞。 保持淡定， 才能欣赏到最美丽的风景！ 保持淡定， 人生从此不再寂寞。</div></pre></td></tr></table></figure></p>
<p>效果如下:</p>
<blockquote>
<p>一盏灯， 一片昏黄；<br>一简书， 一杯淡茶。<br>守着那一份淡定， 品读属于自己的寂寞。 保持淡定， 才能欣赏到最美丽的风景！ 保持淡定， 人生从此不再寂寞。</p>
</blockquote>
<hr>
<h3 id="粗体和斜体"><a href="#粗体和斜体" class="headerlink" title="粗体和斜体"></a>粗体和斜体</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="emphasis">*我是斜体*</span></div><div class="line"><span class="strong">**我是粗体**</span></div></pre></td></tr></table></figure>
<p>效果如下:<br><em>我是斜体</em><br><strong>我是粗体</strong></p>
<hr>
<h3 id="链接和图片"><a href="#链接和图片" class="headerlink" title="链接和图片"></a>链接和图片</h3><p><em><code>[链接文字](链接地址)</code> 和 <code>![图片说明](图片链接地址)</code> ，例如：</em><br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[<span class="string">百度</span>](<span class="link">https://www.baidu.com/</span>)</div><div class="line">![<span class="string">百度logo</span>](<span class="link">https://www.baidu.com/img/bd_logo1.png</span>)</div></pre></td></tr></table></figure></p>
<p>效果如下：<br><a href="https://www.baidu.com/" target="_blank" rel="external">百度</a><br><img src="https://www.baidu.com/img/bd_logo1.png" alt="百度logo"></p>
<p><em>ps: 在我们实际写文档时可以直接用为知笔记富文本编辑器，将图片插入相应位置即可。</em></p>
<hr>
<h3 id="分割线"><a href="#分割线" class="headerlink" title="分割线"></a>分割线</h3><p><em>最常用两种，效果一样</em><br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="bullet">- </span>- -</div><div class="line"><span class="emphasis">***</span></div></pre></td></tr></table></figure></p>
<p>效果如下：</p>
<hr>
<hr>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><p><em>用<code>Markdown</code> 标记你的代码段，简直不要太方便，这也是为什么说程序员的文档应该用<code>Markdown</code>来写</em></p>
<h4 id="短代码段"><a href="#短代码段" class="headerlink" title="短代码段"></a>短代码段</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">使用 <span class="code">`printf()`</span>函数</div></pre></td></tr></table></figure>
<p>效果如下：<br>使用 <code>printf()</code>函数</p>
<h4 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h4><p><em>代码块是以<code>三点号</code>后跟<code>代码类型</code> 开始 + <code>三点号</code> 结束的，例如</em><br><strong>java代码</strong></p>
<p>```java</p>
<p>private InfoStaticViewManager mgr = null;</p>
<p>//获取Manager</p>
<p>private InfoStaticViewManager getManager() {</p>
<p>  if(null == mgr) {</p>
<p>  mgr = new InfoStaticViewManager();</p>
<p>  }</p>
<p>  return mgr;<br>}</p>
<p>```</p>
<p>效果如下<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> InfoStaticViewManager mgr = <span class="keyword">null</span>;</div><div class="line"><span class="comment">//获取Manager    </span></div><div class="line"><span class="function"><span class="keyword">private</span> InfoStaticViewManager <span class="title">getManager</span><span class="params">()</span> </span>&#123;</div><div class="line">     <span class="keyword">if</span>(<span class="keyword">null</span> == mgr) &#123;</div><div class="line">         mgr = <span class="keyword">new</span> InfoStaticViewManager();</div><div class="line">     &#125;</div><div class="line">     <span class="keyword">return</span> mgr;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>同理</p>
<p><strong>javascript 代码</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> PortalRemote =  <span class="function"><span class="keyword">function</span>(<span class="params">defaultServiceName</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.defaultServiceName = defaultServiceName;  <span class="comment">//设置service</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>sql</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">--我是注释</span></div><div class="line"><span class="keyword">SELECT</span> LastName,FirstName <span class="keyword">FROM</span> Persons;</div><div class="line"><span class="comment">--我是注释</span></div><div class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Persons;</div></pre></td></tr></table></figure>
<p>各式各样的代码段都基本支持高亮显示，阅读起来有木有很爽！</p>
<hr>
<h3 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h3><p><em>把一系列文本精心组织起来，我们甚至可以得到一个表格。我们需要把表头的那一行用一串横杠（-）隔出来，然后把每一列用竖杠（|）隔开：</em><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">第一行标题 | 第二行标题 </div><div class="line">------- | -------</div><div class="line">表格元素 | 表格元素</div><div class="line">表格元素 | 表格元素</div><div class="line">表格元素 | 表格元素</div><div class="line">表格元素 | 表格元素</div></pre></td></tr></table></figure></p>
<p>效果如下：</p>
<table>
<thead>
<tr>
<th>第一行标题</th>
<th>第二行标题 </th>
</tr>
</thead>
<tbody>
<tr>
<td>表格元素</td>
<td>表格元素</td>
</tr>
<tr>
<td>表格元素</td>
<td>表格元素</td>
</tr>
<tr>
<td>表格元素</td>
<td>表格元素</td>
</tr>
<tr>
<td>表格元素</td>
<td>表格元素</td>
</tr>
</tbody>
</table>
<p>好了到此为止就，介绍这么多了，这基本涵盖了常用的几种语法，熟练使用以上语法，绝壁可以写出很好，很工整的文档。而且会发现效率要比富文本编辑器高的多。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.jpeg"
               alt="Asia Wang" />
          <p class="site-author-name" itemprop="name">Asia Wang</p>
           
              <p class="site-description motion-element" itemprop="description">AsiaWang的个人博客</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">1</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-block">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="https://github.com/asiareal" title="github" target="_blank">github</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://www.zhihu.com/people/asia-wang-91/activities" title="知乎" target="_blank">知乎</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://weibo.com/u/1868786687/home" title="微博" target="_blank">微博</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Asia Wang</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  

    
      <script id="dsq-count-scr" src="https://aw-blog.disqus.com/count.js" async></script>
    

    

  




	





  





  





  






  





  

  

  

  

</body>
</html>
